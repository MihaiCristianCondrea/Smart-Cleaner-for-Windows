<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="SmartCleanerForWindows.Shell.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dashboard="using:SmartCleanerForWindows.Modules.Dashboard.Views"
    xmlns:emptyViews="using:SmartCleanerForWindows.Modules.EmptyFolders.Views"
    xmlns:largeViews="using:SmartCleanerForWindows.Modules.LargeFiles.Views"
    xmlns:diskViews="using:SmartCleanerForWindows.Modules.DiskCleanup.Views"
    xmlns:internetViews="using:SmartCleanerForWindows.Modules.InternetRepair.Views"
    xmlns:settingsViews="using:SmartCleanerForWindows.Shell.Settings"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Smart Cleaner for Windows">

    <Grid>
        <NavigationView
            x:Name="RootNavigation"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="True"
            PaneDisplayMode="Left"
            CompactPaneLength="56"
            OpenPaneLength="260"
            IsPaneToggleButtonVisible="True"
            SelectionFollowsFocus="Disabled"
            AlwaysShowHeader="False"
            IsTitleBarAutoPaddingEnabled="False"
            SelectionChanged="OnNavigationSelectionChanged"
            Loaded="OnNavigationLoaded">

            <!-- Native way: style ONLY nav menu containers (does not leak to inner lists) -->
            <NavigationView.MenuItemContainerStyle>
                <Style TargetType="NavigationViewItem">
                    <Setter Property="Margin" Value="0,0,0,12" />
                </Style>
            </NavigationView.MenuItemContainerStyle>

            <NavigationView.Content>
                <Grid>

                    <!-- Main Modules -->
                    <dashboard:DashboardView x:Name="DashboardView" />

                    <emptyViews:EmptyFoldersView
                        x:Name="EmptyFoldersView"
                        x:Load="False" />

                    <largeViews:LargeFilesView
                        x:Name="LargeFilesView"
                        x:Load="False" />

                    <internetViews:InternetRepairView
                        x:Name="InternetRepairView"
                        x:Load="False" />

                    <diskViews:DiskCleanupView
                        x:Name="DiskCleanupView"
                        x:Load="False" />

                    <!-- Embedded Tool Settings UI (old ToolSettingsWindow content) -->
                    <Grid x:Name="ToolSettingsHost" x:Load="False">
                        <NavigationView
                            x:Name="ToolsNavigation"
                            IsSettingsVisible="False"
                            IsBackButtonVisible="Collapsed"
                            PaneDisplayMode="Left"
                            CompactPaneLength="56"
                            OpenPaneLength="260"
                            SelectionChanged="OnToolSettingsNavigationSelectionChanged"
                            Loaded="OnToolSettingsNavigationLoaded">

                            <NavigationView.Content>
                                <ScrollViewer>
                                    <StackPanel
                                        x:Name="FieldsHost"
                                        Spacing="12"
                                        Margin="24" />
                                </ScrollViewer>
                            </NavigationView.Content>
                        </NavigationView>
                    </Grid>

                    <!-- Existing Settings View -->
                    <settingsViews:SettingsView
                        x:Name="SettingsView"
                        x:Load="False" />

                </Grid>
            </NavigationView.Content>

        </NavigationView>
    </Grid>
</Window>
