<UserControl
    x:Class="Smart_Cleaner_for_Windows.Modules.InternetRepair.Views.InternetRepairView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ir="using:Smart_Cleaner_for_Windows.Modules.InternetRepair.ViewModels"
    mc:Ignorable="d">

                <ScrollViewer
                    HorizontalScrollBarVisibility="Disabled">
                    <Grid Padding="{StaticResource Padding.Page}" RowSpacing="{StaticResource Spacing.Size240}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Border
                            x:Name="InternetRepairStatusHero" x:FieldModifier="internal"
                            Grid.Row="0"
                            Background="{StaticResource Brush.Hero.Neutral}"
                            CornerRadius="28"
                            Padding="{StaticResource Padding.Hero}">
                            <Grid ColumnSpacing="{StaticResource Spacing.Size240}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <Border
                                    Width="76"
                                    Height="76"
                                    CornerRadius="24"
                                    Background="{StaticResource HeroCardOverlayBrush}"
                                    VerticalAlignment="Center">
                                    <SymbolIcon
                                        x:Name="InternetRepairStatusGlyph" x:FieldModifier="internal"
                                        Symbol="Globe"
                                        Foreground="White"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center" />
                                </Border>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="{StaticResource Spacing.Size80}">
                                    <TextBlock Text="Internet repair" Foreground="#B3FFFFFF" FontWeight="SemiBold" />
                                    <TextBlock
                                        x:Name="InternetRepairStatusTitle" x:FieldModifier="internal"
                                        Text="Ready to fix common issues"
                                        FontSize="30"
                                        FontWeight="SemiBold"
                                        Foreground="White"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        x:Name="InternetRepairStatusDescription" x:FieldModifier="internal"
                                        Text="Select the repairs you want to run, then choose Fix now."
                                        Foreground="#E6FFFFFF"
                                        TextWrapping="WrapWholeWords" />
                                </StackPanel>

                                <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right" Spacing="{StaticResource Spacing.Size40}">
                                    <TextBlock Text="Selected repairs" Foreground="#B3FFFFFF" />
                                    <InfoBadge
                                        x:Name="InternetRepairResultBadge" x:FieldModifier="internal"
                                        HorizontalAlignment="Right"
                                        Visibility="Collapsed" />
                                    <TextBlock
                                        x:Name="InternetRepairSummaryText" x:FieldModifier="internal"
                                        Text="Select the repairs you want to run."
                                        Foreground="#E6FFFFFF"
                                        TextWrapping="Wrap"
                                        TextAlignment="Right" />
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Grid
                            x:Name="InternetRepairLayout"
                            Grid.Row="1"
                            ColumnSpacing="{StaticResource Spacing.Size240}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition x:Name="InternetRepairSecondaryColumn" Width="360" />
                            </Grid.ColumnDefinitions>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup>
                                    <VisualState x:Name="InternetRepairCompactState" x:FieldModifier="internal">
                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowWidth="0" />
                                        </VisualState.StateTriggers>
                                        <VisualState.Setters>
                                            <Setter Target="InternetRepairSecondaryColumn.Width" Value="0" />
                                            <Setter Target="InternetRepairLayout.ColumnSpacing" Value="{StaticResource Spacing.Size160}" />
                                            <Setter Target="InternetRepairPrimaryPanel.(Grid.ColumnSpan)" Value="2" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.Row)" Value="1" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.Column)" Value="0" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.ColumnSpan)" Value="2" />
                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="InternetRepairWideState" x:FieldModifier="internal">
                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowWidth="1024" />
                                        </VisualState.StateTriggers>
                                        <VisualState.Setters>
                                            <Setter Target="InternetRepairSecondaryColumn.Width" Value="360" />
                                            <Setter Target="InternetRepairLayout.ColumnSpacing" Value="{StaticResource Spacing.Size240}" />
                                            <Setter Target="InternetRepairPrimaryPanel.(Grid.ColumnSpan)" Value="1" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.Row)" Value="0" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.Column)" Value="1" />
                                            <Setter Target="InternetRepairSecondaryPanel.(Grid.ColumnSpan)" Value="1" />
                                        </VisualState.Setters>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>

                            <StackPanel
                                x:Name="InternetRepairPrimaryPanel"
                                Grid.Column="0"
                                Spacing="{StaticResource Spacing.Size160}">
                                <Border Style="{StaticResource CardStyle}">
                                    <StackPanel Spacing="{StaticResource Spacing.Size200}">
                                        <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size120}">
                                            <Border
                                                Width="40"
                                                Height="40"
                                                CornerRadius="14"
                                                Background="{ThemeResource AccentFillColorTertiaryBrush}"
                                                VerticalAlignment="Center">
                                                <SymbolIcon
                                                    Symbol="Sync"
                                                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                            </Border>
                                            <StackPanel>
                                                <TextBlock Text="Repair queue" FontSize="22" FontWeight="SemiBold" />
                                                <TextBlock
                                                    Text="Run the selected fixes and monitor progress."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Spacing="{StaticResource Spacing.Size120}">
                                            <TextBlock
                                                x:Name="InternetRepairActivityText" x:FieldModifier="internal"
                                                Text="Waiting to start a repair."
                                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                TextWrapping="Wrap" />
                                            <ProgressBar x:Name="InternetRepairProgress" x:FieldModifier="internal" Height="6" Minimum="0" Maximum="100" Visibility="Collapsed" />
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="{StaticResource Spacing.Size80}">
                                                <Button x:Name="InternetRepairRunBtn" x:FieldModifier="internal" Click="OnInternetRepairRun">
                                                    <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size60}">
                                                        <SymbolIcon Symbol="Play" />
                                                        <TextBlock Text="Fix now" />
                                                    </StackPanel>
                                                </Button>
                                                <Button x:Name="InternetRepairCancelBtn" x:FieldModifier="internal" Click="OnInternetRepairCancel" Visibility="Collapsed" IsEnabled="False">
                                                    <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size60}">
                                                        <SymbolIcon Symbol="Cancel" />
                                                        <TextBlock Text="Cancel" />
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <Border Style="{StaticResource CardStyle}">
                                    <StackPanel Spacing="{StaticResource Spacing.Size200}">
                                        <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size120}">
                                            <Border
                                                Width="40"
                                                Height="40"
                                                CornerRadius="14"
                                                Background="{ThemeResource AccentFillColorTertiaryBrush}"
                                                VerticalAlignment="Center">
                                                <SymbolIcon
                                                    Symbol="View"
                                                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                            </Border>
                                            <StackPanel>
                                                <TextBlock Text="Repair log" FontSize="22" FontWeight="SemiBold" />
                                                <TextBlock
                                                    Text="Detailed results appear as each action finishes."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Spacing="{StaticResource Spacing.Size120}">
                                            <TextBlock
                                                x:Name="InternetRepairLogPlaceholder" x:FieldModifier="internal"
                                                Text="Log entries will appear here once you run a repair."
                                                Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                                            <ListView
                                                x:Name="InternetRepairLogList" x:FieldModifier="internal"
                                                SelectionMode="None"
                                                MinHeight="200">
                                                <ListView.ItemTemplate>
                                                    <DataTemplate x:DataType="ir:InternetRepairLogEntry">
                                                        <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size120}">
                                                            <SymbolIcon
                                                                Symbol="{x:Bind Icon}"
                                                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                                VerticalAlignment="Center" />
                                                            <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                                <TextBlock Text="{x:Bind Title}" FontWeight="SemiBold" TextWrapping="Wrap" />
                                                                <TextBlock
                                                                    Text="{x:Bind Description}"
                                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                                    TextWrapping="WrapWholeWords" />
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                            <InfoBar x:Name="InternetRepairInfoBar" x:FieldModifier="internal" IsOpen="False" />
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <StackPanel
                                x:Name="InternetRepairSecondaryPanel"
                                Grid.Row="0"
                                Grid.Column="1"
                                Spacing="{StaticResource Spacing.Size160}">
                                <Border Style="{StaticResource CardStyle}">
                                    <StackPanel Spacing="{StaticResource Spacing.Size200}">
                                        <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size120}">
                                            <Border
                                                Width="40"
                                                Height="40"
                                                CornerRadius="14"
                                                Background="{ThemeResource AccentFillColorTertiaryBrush}"
                                                VerticalAlignment="Center">
                                                <SymbolIcon
                                                    Symbol="Setting"
                                                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                            </Border>
                                            <StackPanel>
                                                <TextBlock Text="Common fixes" FontSize="22" FontWeight="SemiBold" />
                                                <TextBlock
                                                    Text="Select the repairs that match your symptoms."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Spacing="{StaticResource Spacing.Size160}">
                                            <CheckBox
                                                x:Name="InternetRepairWinsockChk" x:FieldModifier="internal"
                                                Tag="winsock"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Reset Winsock catalog" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Repairs socket corruption that can break connectivity."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>

                                            <CheckBox
                                                x:Name="InternetRepairTcpIpChk" x:FieldModifier="internal"
                                                Tag="ipreset"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Reset TCP/IP stack" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Rebuilds the IP stack and reverts advanced network tweaks."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>

                                            <CheckBox
                                                x:Name="InternetRepairDnsChk" x:FieldModifier="internal"
                                                Tag="dnsflush"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Flush DNS cache" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Clears cached DNS records to resolve name lookup issues."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>

                                            <CheckBox
                                                x:Name="InternetRepairReleaseChk" x:FieldModifier="internal"
                                                Tag="iprelease"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Release IP address" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Drops the current lease so you can request a fresh address."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>

                                            <CheckBox
                                                x:Name="InternetRepairRenewChk" x:FieldModifier="internal"
                                                Tag="iprenew"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Renew IP address" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Requests a new DHCP lease from the network."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>

                                            <CheckBox
                                                x:Name="InternetRepairProxyChk" x:FieldModifier="internal"
                                                Tag="proxy"
                                                Checked="OnInternetRepairActionSelectionChanged"
                                                Unchecked="OnInternetRepairActionSelectionChanged">
                                                <StackPanel Spacing="{StaticResource Spacing.Size40}">
                                                    <TextBlock Text="Reset WinHTTP proxy" FontWeight="SemiBold" />
                                                    <TextBlock
                                                        Text="Clears system proxy settings that might block traffic."
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        TextWrapping="WrapWholeWords" />
                                                </StackPanel>
                                            </CheckBox>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <Border Style="{StaticResource CardStyle}">
                                    <StackPanel Spacing="{StaticResource Spacing.Size200}">
                                        <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size120}">
                                            <Border
                                                Width="40"
                                                Height="40"
                                                CornerRadius="14"
                                                Background="{ThemeResource AccentFillColorTertiaryBrush}"
                                                VerticalAlignment="Center">
                                                <SymbolIcon
                                                    Symbol="Important"
                                                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                            </Border>
                                            <StackPanel>
                                                <TextBlock Text="Before you run" FontSize="22" FontWeight="SemiBold" />
                                                <TextBlock
                                                    Text="Most repairs require administrator privileges and may momentarily disrupt connectivity."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Spacing="{StaticResource Spacing.Size120}">
                                            <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size80}">
                                                <SymbolIcon Symbol="Shop" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                                                <TextBlock
                                                    Text="Run Smart Cleaner as an administrator for the best results."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="{StaticResource Spacing.Size80}">
                                                <SymbolIcon Symbol="Refresh" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                                                <TextBlock
                                                    Text="Restart Windows after applying repairs if you still have trouble."
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </ScrollViewer>
</UserControl>
